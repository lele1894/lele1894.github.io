<!DOCTYPE html>
<html>
<head>
    <title>YouTube Video Player (Chinese Optimized)</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
        }
        
        .container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        #youtube-player {
            flex: 1;
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <iframe id="youtube-player" src="" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen 
            onload="console.log('YouTube播放器加载成功')" 
            onerror="console.error('YouTube播放器加载失败'); document.getElementById('error-message').style.display='block';"></iframe>
        <div id="error-message" style="display:none; color:red; text-align:center; padding:20px;">
            <p>无法加载YouTube播放器，请检查网络连接或稍后重试。</p>
        </div>
    </div>

    <script>
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(window.location.href);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        var videoId = getUrlParameter('v');
        var iframe = document.getElementById('youtube-player');
        
        // 核心修改部分：添加语言相关参数
        // hl=zh-CN: 强制播放器界面显示简体中文
        // cc_lang_pref=zh-Hans: 提示 YouTube 优先选择中文相关资源（音轨/字幕）
        // cc_load_policy=1: 自动开启字幕（如果不需要自动开启，可改为0）
        var languageParams = '&hl=zh-CN&cc_lang_pref=zh-Hans&cc_load_policy=1';

        if (videoId) {
            iframe.src = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1' + languageParams;
            console.log('正在加载YouTube视频，ID: ' + videoId);
        } else {
            // 默认视频
            iframe.src = 'https://www.youtube.com/embed/j-xpSgXZT-4?autoplay=1' + languageParams;
            console.log('加载默认YouTube视频');
        }
        
        window.addEventListener('resize', function() {
            iframe.style.width = '100%';
            iframe.style.height = '100%';
        });
    </script>
</body>
</html>
